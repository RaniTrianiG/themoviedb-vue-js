{"ast":null,"code":"import MovieCard from './MovieCard.vue';\nimport TVCard from './TVCard.vue';\nexport default {\n  components: {\n    MovieCard,\n    TVCard\n  },\n  data: function () {\n    return {\n      shows: [],\n      page: 1,\n      showPagination: false,\n      movies: [],\n      genres: [],\n      sortCriteria: \"Most Popular\",\n      sortedBy: \"popularity\"\n    };\n  },\n  async mounted() {\n    this.init();\n    this.fetchGenres();\n    try {\n      const response = await this.$http.get(\"/movie/popular\");\n      this.movies = response.data.results;\n    } catch (error) {\n      console.log(error);\n    }\n  },\n  methods: {\n    async fetchGenres() {\n      try {\n        const response = await this.$http.get(\"/genre/movie/list\");\n        this.genres = response.data.genres;\n      } catch (error) {\n        console.log(error);\n      }\n    },\n    async init() {\n      try {\n        const key = process.env.APP_KEY;\n        const response = await this.$http.get(\"/tv/popular?api_key=\" + key + \"&language=en-US&page=\" + this.page);\n        this.shows = response.data.results;\n      } catch (error) {\n        console.log(error);\n      }\n      this.sortBy(this.sortedBy);\n      this.showPagination = true;\n    },\n    sortBy(prop) {\n      console.log('INI PROOP', prop);\n      if (prop === \"popularity\") {\n        this.sortCriteria = \"Most Popular\";\n      } else if (prop === \"vote_average\") {\n        this.sortCriteria = \"Highest Rated\";\n      } else if (prop === \"release_date\") {\n        prop = \"first_air_date\";\n        this.sortCriteria = \"Release Date\";\n      }\n      this.sortedBy = prop;\n      this.shows.sort((a, b) => a[prop] > b[prop] ? -1 : 1);\n    }\n  },\n  watch: {\n    page: function (page) {\n      this.init();\n    }\n  }\n};","map":{"version":3,"names":["MovieCard","TVCard","components","data","shows","page","showPagination","movies","genres","sortCriteria","sortedBy","mounted","init","fetchGenres","response","$http","get","results","error","console","log","methods","key","process","env","APP_KEY","sortBy","prop","sort","a","b","watch"],"sources":["src/components/PopularMovies.vue"],"sourcesContent":["<template>\n    <div class=\"mx-3\">\n        <h2 class=\"mt-2 grey--text\">Popular Movies</h2>\n        <v-container fluid>\n            <v-row>\n                <v-col cols=\"12\" sm=\"3\" v-for=\"movie in movies\" :key=\"movie.id\">\n                    <MovieCard :movie=\"movie\" :genres=\"genres\" />\n                </v-col>\n            </v-row>\n        </v-container>\n        <h2 class=\"mt-2 grey--text\">Popular TV Shows</h2>\n        <v-container fluid>\n            <v-row>\n                <v-col cols=\"12\" sm=\"3\" v-for=\"show in shows\" :key=\"show.id\" :sortCriteria=\"sortCriteria\"\n                    @popularity=\"sortBy('popularity')\" @vote_average=\"sortBy('vote_average')\"\n                    @release_date=\"sortBy('release_date')\">\n                    <TVCard :show=\"show\" />\n                </v-col>\n            </v-row>\n            <div class=\"text-center mt-4\" v-if=\"showPagination\">\n                <v-pagination color=\"primary\" v-model=\"page\" :length=\"3\" :value=\"page\"></v-pagination>\n            </div>\n        </v-container>\n    </div>\n</template>\n\n<script>\nimport MovieCard from './MovieCard.vue';\nimport TVCard from './TVCard.vue';\nexport default {\n    components: {\n        MovieCard,\n        TVCard,\n    },\n    data: function () {\n        return {\n            shows: [],\n            page: 1,\n            showPagination: false,\n            movies: [],\n            genres: [],\n            sortCriteria: \"Most Popular\",\n            sortedBy: \"popularity\",\n        };\n    },\n    async mounted() {\n        this.init();\n        this.fetchGenres();\n        try {\n            const response = await this.$http.get(\"/movie/popular\");\n            this.movies = response.data.results;\n        } catch (error) {\n            console.log(error)\n        }\n    },\n    methods: {\n        async fetchGenres() {\n            try {\n                const response = await this.$http.get(\"/genre/movie/list\");\n                this.genres = response.data.genres;\n            } catch (error) {\n                console.log(error)\n            }\n        },\n        async init() {\n            try {\n                const key = process.env.APP_KEY;\n                const response = await this.$http.get(\"/tv/popular?api_key=\" + key + \"&language=en-US&page=\" + this.page);\n                this.shows = response.data.results;\n            } catch (error) {\n                console.log(error)\n            }\n            this.sortBy(this.sortedBy);\n            this.showPagination = true;\n        },\n        sortBy(prop) {\n            console.log('INI PROOP', prop);\n            if (prop === \"popularity\") {\n                this.sortCriteria = \"Most Popular\";\n            } else if (prop === \"vote_average\") {\n                this.sortCriteria = \"Highest Rated\";\n            } else if (prop === \"release_date\") {\n                prop = \"first_air_date\";\n                this.sortCriteria = \"Release Date\";\n            }\n            this.sortedBy = prop;\n            this.shows.sort((a, b) => (a[prop] > b[prop] ? -1 : 1));\n        },\n    },\n    watch: {\n        page: function (page) {\n            this.init();\n        }\n    }\n}\n</script>\n\n<style></style>"],"mappings":"AA2BA,OAAAA,SAAA;AACA,OAAAC,MAAA;AACA;EACAC,UAAA;IACAF,SAAA;IACAC;EACA;EACAE,IAAA,WAAAA,CAAA;IACA;MACAC,KAAA;MACAC,IAAA;MACAC,cAAA;MACAC,MAAA;MACAC,MAAA;MACAC,YAAA;MACAC,QAAA;IACA;EACA;EACA,MAAAC,QAAA;IACA,KAAAC,IAAA;IACA,KAAAC,WAAA;IACA;MACA,MAAAC,QAAA,cAAAC,KAAA,CAAAC,GAAA;MACA,KAAAT,MAAA,GAAAO,QAAA,CAAAX,IAAA,CAAAc,OAAA;IACA,SAAAC,KAAA;MACAC,OAAA,CAAAC,GAAA,CAAAF,KAAA;IACA;EACA;EACAG,OAAA;IACA,MAAAR,YAAA;MACA;QACA,MAAAC,QAAA,cAAAC,KAAA,CAAAC,GAAA;QACA,KAAAR,MAAA,GAAAM,QAAA,CAAAX,IAAA,CAAAK,MAAA;MACA,SAAAU,KAAA;QACAC,OAAA,CAAAC,GAAA,CAAAF,KAAA;MACA;IACA;IACA,MAAAN,KAAA;MACA;QACA,MAAAU,GAAA,GAAAC,OAAA,CAAAC,GAAA,CAAAC,OAAA;QACA,MAAAX,QAAA,cAAAC,KAAA,CAAAC,GAAA,0BAAAM,GAAA,kCAAAjB,IAAA;QACA,KAAAD,KAAA,GAAAU,QAAA,CAAAX,IAAA,CAAAc,OAAA;MACA,SAAAC,KAAA;QACAC,OAAA,CAAAC,GAAA,CAAAF,KAAA;MACA;MACA,KAAAQ,MAAA,MAAAhB,QAAA;MACA,KAAAJ,cAAA;IACA;IACAoB,OAAAC,IAAA;MACAR,OAAA,CAAAC,GAAA,cAAAO,IAAA;MACA,IAAAA,IAAA;QACA,KAAAlB,YAAA;MACA,WAAAkB,IAAA;QACA,KAAAlB,YAAA;MACA,WAAAkB,IAAA;QACAA,IAAA;QACA,KAAAlB,YAAA;MACA;MACA,KAAAC,QAAA,GAAAiB,IAAA;MACA,KAAAvB,KAAA,CAAAwB,IAAA,EAAAC,CAAA,EAAAC,CAAA,KAAAD,CAAA,CAAAF,IAAA,IAAAG,CAAA,CAAAH,IAAA;IACA;EACA;EACAI,KAAA;IACA1B,IAAA,WAAAA,KAAA;MACA,KAAAO,IAAA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}