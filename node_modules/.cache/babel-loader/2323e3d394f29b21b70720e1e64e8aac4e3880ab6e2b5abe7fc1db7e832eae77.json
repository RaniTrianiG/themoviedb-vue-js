{"ast":null,"code":"let currentPage = 1;\nimport ActorCard from \"../components/ActorCard.vue\";\nexport default {\n  data() {\n    return {\n      actors: []\n    };\n  },\n  components: {\n    ActorCard\n  },\n  mounted() {\n    this.fetchActors(currentPage);\n    // this.scroll();\n  },\n  methods: {\n    async fetchActors(page) {\n      try {\n        const response = await this.$http.get(\"https://api.themoviedb.org/3/person/popular?page=\" + page);\n        this.actors = response.data.results;\n        // this.actors.push(...response.data.results);\n      } catch (error) {\n        console.log(error);\n      }\n    },\n    scroll() {\n      window.onscroll = () => {\n        let bottomOfWindow = document.documentElement.scrollTop + window.innerHeight === document.documentElement.offsetHeight;\n        if (bottomOfWindow) {\n          currentPage += 1;\n          this.fetchActors(currentPage += 1);\n        }\n      };\n    },\n    next() {\n      currentPage += 1;\n      this.fetchActors(currentPage);\n    },\n    previous() {\n      currentPage -= 1;\n      this.fetchActors(currentPage);\n    }\n  }\n};","map":{"version":3,"names":["currentPage","ActorCard","data","actors","components","mounted","fetchActors","methods","page","response","$http","get","results","error","console","log","scroll","window","onscroll","bottomOfWindow","document","documentElement","scrollTop","innerHeight","offsetHeight","next","previous"],"sources":["src/components/Actors.vue"],"sourcesContent":["<template>\n    <div class=\"mx-3\">\n        <h2 class=\"mt-2 grey--text\"> Popular Actors</h2>    \n        <v-container fluid>\n            <v-row>\n                  <v-col cols=\"12\" sm=\"3\" :key=\"actor.id\" v-for=\"actor in this.actors\">\n                      <ActorCard :actor=\"actor\" />\n                      </v-col> \n                      <v-col cols=\"12\" class=\"d-flex justify-center mt-5\">\n                          <v-btn class=\"mx-2\" fab dark small color=\"error\" v-on:click.prevent=\"previous()\">\n                              <v-icon dark>\n                                  fas fa-step-backward\n                              </v-icon>\n                          </v-btn>\n                          <v-btn class=\"mx-2\" fab dark small color=\"error\" v-on:click.prevent=\"next()\">\n                              <v-icon dark>\n                                  fas fa-step-forward\n                              </v-icon>\n                          </v-btn>\n                      </v-col>\n            </v-row>\n        </v-container>\n    </div>\n  </template>\n  \n  <script>\n  let currentPage = 1;\n  import ActorCard from \"../components/ActorCard.vue\"\n  \n  export default {\n    data() {\n      return {\n        actors: [],\n      };\n    },\n    components: {\n      ActorCard,\n    },\n  \n    mounted() {\n      this.fetchActors(currentPage);\n      // this.scroll();\n    },\n  \n    methods: {\n      async fetchActors(page) {\n        try {\n          const response = await this.$http.get(\n            \"https://api.themoviedb.org/3/person/popular?page=\" + page\n          );\n          this.actors = response.data.results;\n          // this.actors.push(...response.data.results);\n        } catch (error) {\n          console.log(error);\n        }\n      },\n  \n      scroll() {\n        window.onscroll = () => {\n          let bottomOfWindow =\n            document.documentElement.scrollTop + window.innerHeight ===\n            document.documentElement.offsetHeight;\n  \n          if (bottomOfWindow) {\n            currentPage += 1;\n            this.fetchActors((currentPage += 1));\n          }\n        };\n      },\n  \n      next() {\n        currentPage += 1;\n        this.fetchActors(currentPage);\n      },\n      previous() {\n        currentPage -= 1;\n        this.fetchActors(currentPage);\n      },\n    },\n  };\n  </script>\n  \n  <style></style>"],"mappings":"AA0BA,IAAAA,WAAA;AACA,OAAAC,SAAA;AAEA;EACAC,KAAA;IACA;MACAC,MAAA;IACA;EACA;EACAC,UAAA;IACAH;EACA;EAEAI,QAAA;IACA,KAAAC,WAAA,CAAAN,WAAA;IACA;EACA;EAEAO,OAAA;IACA,MAAAD,YAAAE,IAAA;MACA;QACA,MAAAC,QAAA,cAAAC,KAAA,CAAAC,GAAA,CACA,sDAAAH,IACA;QACA,KAAAL,MAAA,GAAAM,QAAA,CAAAP,IAAA,CAAAU,OAAA;QACA;MACA,SAAAC,KAAA;QACAC,OAAA,CAAAC,GAAA,CAAAF,KAAA;MACA;IACA;IAEAG,OAAA;MACAC,MAAA,CAAAC,QAAA;QACA,IAAAC,cAAA,GACAC,QAAA,CAAAC,eAAA,CAAAC,SAAA,GAAAL,MAAA,CAAAM,WAAA,KACAH,QAAA,CAAAC,eAAA,CAAAG,YAAA;QAEA,IAAAL,cAAA;UACAnB,WAAA;UACA,KAAAM,WAAA,CAAAN,WAAA;QACA;MACA;IACA;IAEAyB,KAAA;MACAzB,WAAA;MACA,KAAAM,WAAA,CAAAN,WAAA;IACA;IACA0B,SAAA;MACA1B,WAAA;MACA,KAAAM,WAAA,CAAAN,WAAA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}